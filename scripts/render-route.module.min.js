const moduleRouter=(()=>{function e(){wrapTemplate.innerHTML="loading...";const e="/pages/404";fetch(e,{method:"GET"}).then((e=>e.text())).then((t=>{n(e,"Not found",location.origin+"#page=404",t,"replace")})).catch((e=>{}))}function t(t,a,o){wrapTemplate.innerHTML="loading...",fetch(t,{method:"GET"}).then((e=>{if(404!==e.status)return e.text();throw new Error("No template for this page - 404")})).then((e=>{n(t,a,o,e,"push")})).catch((t=>{e()}))}function a(){location.href!==location.origin+location.pathname&&history?history.state?function(){wrapTemplate.innerHTML="loading...";const e=history.state.template;fetch(e,{method:"GET"}).then((e=>e.text())).then((t=>{n(e,history.state.page,history.state.url,t,"replace")})).catch((e=>{}))}():history.back():t(pages[0].templatePath,pages[0].name,pages[0].href)}function n(e,t,a,n,o){switch(o){case"push":window.history.pushState({template:e,page:t,url:a},t,a);break;case"replace":window.history.replaceState({template:e,page:t,url:a},t,a);break;default:break}document.title=t,wrapTemplate.innerHTML=n,function(e){Array.from(document.getElementsByClassName("js-link--nav")).forEach((t=>{t.classList.remove("u-active"),t.blur(),(location.hash.indexOf("projects")>-1&&"projects"===t.dataset.name.replace(/\s/g,"").toLowerCase()||t.dataset.name.replace(/\s/g,"").toLowerCase()===e.replace(/\s/g,"").toLowerCase())&&t.classList.add("u-active")}))}(t),async function(e){let t=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1];t.parentNode.removeChild(t);let a=document.createElement("script");a.type="text/javascript",a.defer=!0,a.async=!1,a.src=e+"/index.js";try{404!==(await fetch(a.src,{method:"GET"})).status||(a.src=""),document.body.append(a)}catch(e){return}}(e)}return{linksListener:function(e){!function(e){Array.from(document.getElementsByClassName(e)).forEach((e=>{e.addEventListener("click",(function(e){null!==history.state&&null!==history.state.template&&void 0!==this.dataset&&this.dataset.template===history.state.template||(t(this.dataset.template,this.dataset.name,this.href),e.stopPropagation(),e.preventDefault())}),!1)}))}(e)},hashListener:function(e){!function(e){Array.from(document.getElementsByClassName(e)).forEach((e=>{e.addEventListener("click",(function(t){const a=document.getElementById(e.dataset.hash),n=a.getBoundingClientRect().top-100;a.focus(),isIE()?window.scrollBy(0,n):window.scrollBy({top:n,behavior:"smooth"}),t.stopPropagation(),t.preventDefault()}),!1)}))}(e)},callTemplate:function(){a()},navStateOrHashChange:function(){wrapTemplate.innerHTML="loading...",fetch(location.href.replace("#page=","pages/"),{method:"GET"}).then((e=>{if(404!==e.status)return e.text();throw new Error("No template for this page - 404")})).then((e=>{const t=location.hash.replace("#page=","/pages/");for(let a of pages){const o=a.templatePath;t===o&&n(o,a.name,a.href,e,"replace")}for(let a of projects){const o=a.templatePath;t===o&&n(o,a.name,a.href,e,"replace")}})).catch((t=>{e()}))},getErrorPageTemplate:function(){e()}}})();