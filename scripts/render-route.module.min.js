const moduleRouter=(()=>{async function t(t){let e=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1];e.parentNode.removeChild(e);let a=document.createElement("script");a.type="text/javascript",a.defer=!0,a.async=!1,a.src=t+"/index.js";try{404!==(await fetch(a.src,{method:"GET"})).status||(a.src=""),document.body.append(a)}catch(t){return}}function e(){wrapTemplate.innerHTML="loading...";const e="/404",a="Page not found",n=location.origin+"#page=404";fetch(e,{method:"GET"}).then(t=>t.text()).then(r=>(window.history.replaceState({template:e,page:a,url:n},a,n),document.title=a,wrapTemplate.innerHTML=r,t(e))).catch(t=>{})}function a(a,n,r){wrapTemplate.innerHTML="loading...",fetch(a,{method:"GET"}).then(t=>{if(404!==t.status)return t.text();throw e(),new Error("No template for this page - 404")}).then(e=>(window.history.pushState({template:a,page:n,url:r},n,r),document.title=n,wrapTemplate.innerHTML=e,t(a))).catch(t=>{})}function n(){history&&history.state?function(){wrapTemplate.innerHTML="loading...";const e=history.state.template,a=history.state.page,n=history.state.url;fetch(e,{method:"GET"}).then(t=>t.text()).then(r=>(history.replaceState({template:e,page:a,url:n},a,n),document.title=a,wrapTemplate.innerHTML=r,t(e))).catch(t=>{})}():a("/home","Home","#page=home")}return{navListener:function(){Array.from(document.getElementsByClassName("nav__link")).forEach(t=>{t.addEventListener("click",(function(e){a(this.dataset.template,t.text,this.href),e.preventDefault(),e.stopPropagation()}),!1)})},callTemplate:function(){n()},navStateOrHashChange:function(){wrapTemplate.innerHTML="loading...",fetch(location.href.replace("#page=",""),{method:"GET"}).then(t=>{if(404!==t.status)return t.text();throw e(),new Error("No template for this page - 404")}).then(e=>(wrapTemplate.innerHTML=e,t(location.hash.replace("#page=","/")))).catch(t=>{})}}})();